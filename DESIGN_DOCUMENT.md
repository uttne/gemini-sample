### デザインドキュメント (改訂版): JUnitテスト結果ビューア

#### 1. 概要
ブラウザ上でJUnitのXML形式のテスト結果ファイルを複数読み込み、集計結果、各テストケースの詳細、そして結果の推移をグラフで分かりやすく表示するシングルページアプリケーション（SPA）です。

#### 2. 要件
**機能要件:**
- ユーザーはローカルのPCからJUnitのXMLファイルを複数選択できる。
- アプリケーションは選択された全てのXMLファイルをパースする。
- **集計結果表示:**
    - 全てのファイルのテスト結果を合算した総合計を表示する。
    - ファイルごとの集計結果（テスト数、失敗数、エラー数、スキップ数、実行時間）を一覧で表示する。
- **テスト結果推移のグラフ表示:**
    - 読み込んだファイル（テスト実行日などを想定）を時系列とし、以下の推移をグラフで可視化する。
        - **テストケース数の推移:** 総テストケース数、成功、失敗、エラー、スキップ数の内訳を積み上げ棒グラフで表示する。
        - **実行時間の推移:** 各ファイルの総実行時間を折れ線グラフで表示する。
- **テストケース一覧表示:**
    - 全てのテストケースを一覧で表示する。
    - ファイル名で表示するテストケースをフィルタリングできる。
    - 各テストケースについて、ステータス（成功, 失敗, エラー, スキップ）、クラス名、テストケース名、実行時間を表示する。
    - 「失敗」または「エラー」のテストケースについては、その詳細（メッセージやスタックトレース）を展開して確認できる。

**非機能要件:**
- アプリケーションは全てクライアントサイド（ブラウザ）で完結し、サーバーへのファイルアップロードは行わない。
- `package.json` に記載されている既存のライブラリに加え、グラフ描画のために **`Recharts`** を、ドラッグ＆ドロップのために **`dnd-kit`** を新たに追加して使用する。
- シンプルで直感的に操作できるUIを提供する。

#### 3. 画面設計
- **ヘッダー:** アプリケーションのタイトル「JUnit Test Result Viewer」を表示します。
- **ファイル選択エリア:**
    - 「XMLファイルを選択」ボタン（複数選択可）を配置します。
    - 選択されたファイル名がリストで表示されます。
- **読み込み済みファイル一覧エリア:**
    - ファイル選択エリアの下に、読み込まれたファイル名と削除ボタンを一覧で表示します。
    - ファイル名の横に、そのファイルをリストから削除するためのボタンを配置します。
    - ファイル一覧の上部に、ドラッグ＆ドロップで並び替えができるようにします。
- **推移グラフエリア:**
    - ファイル読み込み後、テスト結果の推移を示す棒グラフと折れ線グラフを表示します。
- **集計結果エリア:**
    - グラフの下に、総合計とファイルごとの集計結果をテーブルで表示します。
- **テストケース一覧エリア:**
    - 集計結果の下に、全テストケースをテーブル形式で表示します。
    - ドロップダウンで表示するファイルを選択し、フィルタリングできます。
    - ステータスに応じて行の背景色を変更します。
    - 失敗/エラーの行をクリックすると、詳細なエラーメッセージが展開されます。

#### 4. 実装方針
1.  **ファイル読み込み:**
    - HTMLの`<input type="file" accept=".xml" multiple>`を使用します。
    - `FileReader` APIを使い、選択された各ファイルの内容を読み込みます。
2.  **XMLパース:**
    - ブラウザ標準の`DOMParser` APIを使用し、XMLテキストをDOMオブジェクトに変換します。
3.  **データ抽出と状態管理:**
    - パースした各DOMから情報を抽出し、ファイルごとの結果データと、全ファイルを集約したデータの両方をReactの`useState`フックで管理します。
4.  **グラフ描画:**
    - `Recharts`ライブラリを導入し、集約したデータをもとにグラフコンポーネントを作成します。
5.  **コンポーネント設計:**
    - `App.tsx`: 全体のレイアウトと状態管理。
    - `FileUpload.tsx`: ファイル選択ロジック。
    - `Charts.tsx`: `Recharts`を使ったグラフ描画。
    - `SummaryTable.tsx`: 集計結果テーブル。
    - `ResultsTable.tsx`: フィルタリング機能付きのテストケース一覧テーブル。
6.  **スタイリング:**
    - `App.css`や`index.css`に必要なスタイルを追加します。